<!DOCTYPE html>
<html lang="en">

	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=0.0,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0" />
		<meta name="keywords" content="" />
		<meta name="description" content="" />
		<meta name="author" content="" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta name="format-detection" content="telephone=no" />
		<link href="src/css/public.css" type="text/css" rel="stylesheet" />
		<link rel="stylesheet" href="src/css/swiper.min.css" type="text/css" />
		<script type="text/javascript" src="src/js/jquery-1.8.0.min.js"></script>
		<script type="text/javascript" src="src/js/public.js"></script>
		<title>商品详细</title>
		<style>
			.sq_kuan {
				width: 100%;
			}
			
			.kuan_list {
				width: 100%;
				clear: both;
				height: 35px;
				line-height: 35px
			}
			
			.kuan_list li {
				width: 50%;
				float: left;
				list-style: none;
				text-align: center;
				background-color: #8ccede
			}
			
			.kuan_list li.fjg {
				background-color: #fff;
				color: #8ccede;
			}
			
			.kuan_con {
				width: 100%;
				height: auto;
				padding-bottom: 42px;
			}
			
			.sq-kuan {
				width: 100%;
				padding-bottom: 42px;
			}
			
			.kuan-list {
				width: 100%;
				clear: both;
				height: 20px;
				line-height: 20px;
				text-align: center;
				margin: 0 auto;
				border: 1px solid #fcd765;
				border-radius: 8px;
			}
			
			.kuan-list li {
				width: 25%;
				height: 20px;
				float: left;
				list-style: none;
				background-color: #fcd765;
				color: #7a7a7a;
			}
			
			.kuan-list li.pjg {
				width: 25%;
				background-color: #f3f3f3;
			}
			
			.kuan-con {
				width: 100%;
				height: auto
			}
			
			.count-num {
				line-height: 1.5!important;
			}
			
			
			.canvas-barrage {
	position: absolute;
	width: 100%;
	height: 250px;
	z-index: 999;
	/*font-size: 1rem;*/
}
		</style>
		<script>
			$(document).ready(function() {
				kuanTab(); //弹窗选项卡
			});

			function kuanTab() {
				var Li = $('#kuan_tit li');
				Li.click(function() {
					var fgd = $(this).hasClass('fjg'); //判断是否有背景
					var num = $(this).index();
					var thisCon = $('.sq_kuan .kuan_con').eq(num);
					//alert(num);
					if(fgd == false) {
						Li.removeClass('fjg');
						$(this).addClass('fjg');

						$('.kuan_con').hide();
						thisCon.show();
					}
				});
			}
		</script>
	</head>

	<body>
		<header class="detail-img">
			<a href="index.html" class="detail-left-img"> </a>
			<a href="purcar.html" class="detail-right-img"></a>
			<!--弹幕开始-->
			<canvas id="canvasBarrage" class="canvas-barrage"></canvas>			
			<!--弹幕结束-->
			<div class="banner">
				<div class="swiper-container">
					<div class="swiper-wrapper">
						<div class="swiper-slide">
							<a href="#"><img src="src/images/sdjf_01.png" /></a>
						</div>
						<div class="swiper-slide">
							<a href="#"><img src="src/images/sdjf_01.png" /></a>
						</div>
						<div class="swiper-slide">
							<a href="#"><img src="src/images/sdjf_01.png" /></a>
						</div>
						<div class="swiper-slide">
							<a href="#"><img src="src/images/sdjf_01.png" /></a>
						</div>
						<div class="swiper-slide">
							<a href="#"><img src="src/images/sdjf_01.png" /></a>
						</div>
					</div>
					<!-- Add Pagination -->
					<div class="swiper-pagination"></div>
				</div>
			</div>
		</header>

		<div class="detai-top-txt clearfix"><span class="detai-top-txt-one">RG版Gundam机动战士敢达拼装模型 RG
  11命运敢达181595</span><span class="detai-top-txt-two">￥159</span></div>
		<div class="sq_kuan">
			<ul class="kuan_list clearfix" id="kuan_tit">
				<li class="fjg">商品详情</li>
				<li>评论<span class="count-num">（12）</span></li>
			</ul>
			<div class="kuan_con" style="display:block;">
				<p class="mo-one-txt">高达模型一直是高达动画周边系列不可动摇的主导产品， 高达模型的出现将动画上的巨大的机械人立体化地展现。高达类的模型属于科幻类模型，又分为诸多系列，其中包括了PG，MG，MB，HG，TV，FG，RG，RE/100，SD等。</p>
				<div class="guangao-one"><img src="src/images/guangao_03.png" /></div>
				<div class="guangao-one"><img src="src/images/guangao_2.png" /></div>
				<div class="guangao-one"><img src="src/images/guangao.png" /></div>

			</div>
			<div class="kuan_con" style="display:none;">
				<!--评论开始-->
				<div class="commend-main">
					<h3 class="commend-title"><span class="count">12</span>条</h3>
					<div class="commend-content clearfix">
						<span class="user-img fl"><img src="src/images/link.jpg"/></span>
						<div class="commend-main-content fl">
							<p class="user-name">用户名</p>
							<p class="commend-detail">用户评论内容</p>
							<p class="commend-time">3天前</p>
						</div>
						<a href="#" class="reply">回复</a>
					</div>
				</div>
				<!--评论结束-->
			</div>
		</div>
		<footer class="robot-footer clearfix">
			<a class="robot-a1" href="#">加入购物车</a>
			<a class="robot-a2" href="#">立即下单</a>
		</footer>
		<div class="gou-mai"> </div>
		<div class="gou-mai-con" style="padding-bottom: 35px!important;">
			<div class="gou-mai-img"><img src="src/images/user_05.png" /></div>
			<span class="detail-close"><b>X</b></span>
			<div class="detail-fixed-txt">
				<p class="detail-red-jiage">￥159</p>
				<p>已卖：<span class="sell-count">455</span>件</p>
				<p>请选择颜色分类尺码</p>
			</div>
			<p>颜色分类</p>
			<p class="detail-color clearfix"><span class="detail-color-green detail-color-blue detail-change">蓝色</span><span class="detail-color-green detail-change">绿色</span></p>
			<p>尺码</p>
			<p class="detail-color clearfix"><span class="detail-color-green detail-color-width detail-color-blue">大</span><span class="detail-color-green detail-color-width">中</span><span class="detail-color-green detail-color-width">小</span></p>
			<div class="goumai-shulian">
				<p>购买数量</p>
			</div>
			<!--数量增减开始-->
			<div class="gw-num" style="display: block;">
				<span class="jian">-</span>
				<span class="num">1</span>
				<span class="add">+</span>
			</div>
			<!--数量增减结束-->
			<!--地址选择开始-->
			<a class="address-link" href="address1.html">
				<div class="address-chose-con">
					<p class="receive-man">收货人：<span>某某人</span><span class="receive-phone">15359284087</span></p>
					<p class="detail-address">收货地址：<span>福建省厦门市思明区莲前街道软件园二期观日路00号
000<i class="icon-arrow"></i></span></p>
				</div>
			</a>
			<!--地址选择结束-->
			<footer class="detail-footer"><span>合计：</span><span class="pro-jiage">￥<span id='price'>159</span></span>
				<span class="pro-xiadan">付款</span>
			</footer>
		</div>

		<!-- Swiper JS -->
		<script src="src/js/swiper.min.js"></script>

		<!-- Initialize Swiper -->
		<script>
			var swiper = new Swiper('.swiper-container', {
				pagination: '.swiper-pagination',
				nextButton: '.swiper-button-next',
				prevButton: '.swiper-button-prev',
				paginationClickable: true,
				spaceBetween: 30,
				centeredSlides: true,
				autoplay: 2500,
				autoplayDisableOnInteraction: false
			});
		</script>
<!--弹幕-->
<script>
// 弹幕数据
var dataBarrage = [{
	value: '使用的是静态死数据',
	color: 'blue',
	range: [0, 0.5]
}, {
	value: '随机循环播放',
	color: 'blue',
	range: [0, 0.6]
}, {
	value: '可以控制区域和垂直分布范围',
	color: 'blue',
	range: [0, 0.5]
}, {
	value: '字体大小和速度在方法内设置',
	color: 'black',
	range: [0.1, 1]
}, {
	value: '适合用在一些静态页面上',
	color: 'black',
	range: [0.2, 1]
}, {
	value: '基于canvas实现',
	color: 'black',
	range: [0.2, 0.9]
}, {
	value: '因此IE9+浏览器才支持',
	color: 'black',
	range: [0.2, 1]
}, {
	value: '可以设置边框颜色',
	color: 'black',
	range: [0.2, 1]
}, {
	value: '文字颜色默认都是白色',
	color: 'black',
	range: [0.2, 0.9]
}, {
	value: '若文字颜色不想白色',
	color: 'black',
	range: [0.2, 1]
}, {
	value: '需要自己调整下JS',
	color: 'black',
	range: [0.6, 0.7]
}, {
	value: '如果需要的是真实和视频交互的弹幕',
	color: 'black',
	range: [0.2, 1]
}, {
	value: '可以回到原文',
	color: 'black',
	range: [0, 0.9]
}, {
	value: '查看另外一个demo',
	color: 'black',
	range: [0.7, 1]
}, {
	value: '下面就是占位弹幕了',
	color: 'black',
	range: [0.7, 0.95]
}, {
	value: '前方高能预警！！！',
	color: 'orange',
	range: [0.5, 0.8]
}, {
	value: '前方高能预警！！！',
	color: 'orange',
	range: [0.5, 0.9]
}, {
	value: '前方高能预警！！！',
	color: 'orange',
	range: [0, 1]
}, {
	value: '前方高能预警！！！',
	color: 'orange',
	range: [0, 1]
}];

// 弹幕方法
var canvasBarrage = function (canvas, data) {	
	if (!canvas || !data || !data.length) {
		return;
	}
	if (typeof canvas == 'string') {
		canvas = document.querySelector(canvas);
		canvasBarrage(canvas, data);
		return;
	}
	var context = canvas.getContext('2d');
	canvas.width = canvas.clientWidth;
	canvas.height = canvas.clientHeight;

	// 存储实例
	var store = {};

	// 字号大小
	var fontSize = 1;

	// 实例方法
	var Barrage = function (obj, index) {
		// 随机x坐标也就是横坐标，对于y纵坐标，以及变化量moveX
		this.x = (1 + index * 0.1 / Math.random()) * canvas.width;
		this.y = obj.range[0] * canvas.height + (obj.range[1] - obj.range[0]) * canvas.height * Math.random() + 36;
		if (this.y < fontSize) {
			this.y = fontSize;
		} else if (this.y > canvas.height - fontSize) {
			this.y = canvas.height - fontSize;
		}
		this.moveX = 1 + Math.random() * 3;

		this.opacity = 0.8 + 0.2 * Math.random();
		this.params = obj;
		
		this.draw = function () {
			var params = this.params;
			// 根据此时x位置绘制文本
			context.strokeStyle = params.color;
			context.font = 'bold ' + fontSize + 'rem "microsoft yahei", sans-serif';
			context.fillStyle = 'rgba(255,255,255,'+ this.opacity +')';
			context.fillText(params.value, this.x, this.y);
			context.strokeText(params.value, this.x, this.y);
		};
	};

	data.forEach(function (obj, index) {
		store[index] = new Barrage(obj, index);
	});

	// 绘制弹幕文本
	var draw = function () {
		for (var index in store) {
			var barrage = store[index];
			// 位置变化
			barrage.x -= barrage.moveX;
			if (barrage.x < -1 * canvas.width * 1.5) {
				// 移动到画布外部时候从左侧开始继续位移
				barrage.x = (1 + index * 0.1 / Math.random()) * canvas.width;
				barrage.y = (barrage.params.range[0] + (barrage.params.range[1] - barrage.params.range[0]) * Math.random()) * canvas.height;
				if (barrage.y < fontSize) {
					barrage.y = fontSize;
				} else if (barrage.y > canvas.height - fontSize) {
					barrage.y = canvas.height - fontSize;
				}
				barrage.moveX = 1 + Math.random() * 3;
			}
			// 根据新位置绘制圆圈圈
			store[index].draw();
		}
	};

	// 画布渲染
	var render = function () {
		// 清除画布
		context.clearRect(0, 0, canvas.width, canvas.height);
		
		// 绘制画布上所有的圆圈圈
		draw();

		// 继续渲染
		requestAnimationFrame(render);
	};

	render();
};

canvasBarrage('#canvasBarrage', dataBarrage);
</script>
	</body>

</html>